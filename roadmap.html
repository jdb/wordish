<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Limitations and roadmap &mdash; Wordish v1.0.0b8 documentation</title>
    <link rel="stylesheet" href="static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '#',
        VERSION:     '1.0.0b8',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="Wordish v1.0.0b8 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li><a href="index.html">Wordish v1.0.0b8 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="#">Limitations and roadmap</a><ul>
<li><a class="reference external" href="#integration-with-sphinx">Integration with Sphinx</a></li>
<li><a class="reference external" href="#python-debian-packaging">Python/debian packaging</a></li>
<li><a class="reference external" href="#interfaces">Interfaces</a></li>
<li><a class="reference external" href="#tests">Tests</a></li>
<li><a class="reference external" href="#objects-and-interfaces">objects and interfaces</a></li>
</ul>
</li>
</ul>

            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="sources/roadmap.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="limitations-and-roadmap">
<span id="roadmap"></span><h1>Limitations and roadmap<a class="headerlink" href="#limitations-and-roadmap" title="Permalink to this headline">¶</a></h1>
<div class="section" id="integration-with-sphinx">
<h2>Integration with Sphinx<a class="headerlink" href="#integration-with-sphinx" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Sphinx integration, how to to reuse <tt class="docutils literal"><span class="pre">sourcecode</span></tt>, so the directive
accepts the options <tt class="docutils literal"><span class="pre">ignored</span></tt>, <tt class="docutils literal"><span class="pre">cleanup</span> <span class="pre">option</span></tt>,
<tt class="docutils literal"><span class="pre">no_check</span></tt>, <tt class="docutils literal"><span class="pre">can_abort</span></tt>,</li>
<li>configuration: bailout_on_abort, match=string|re|ellipsis, prompts,
ignore_stderr,</li>
<li>use the Sphinx logging system which can be shut from the command line,</li>
<li>build a directive <tt class="docutils literal"><span class="pre">test_report</span></tt> inserting a table report in the
doc,</li>
<li>build a directive <tt class="docutils literal"><span class="pre">article</span></tt> which takes the name of the article,
and for each, creates a command runner and accumulate the cleanup
code, in case of an abort.</li>
</ul>
</div>
<div class="section" id="python-debian-packaging">
<h2>Python/debian packaging<a class="headerlink" href="#python-debian-packaging" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>use <em>distribute</em> to benefit from <tt class="docutils literal"><span class="pre">console_script</span></tt>, and dependency
resolution (docutils), and also because it is the new black. Maybe
<em>pip</em> knows how to install man pages and re-hash the man-db,</li>
<li>how to package the future <em>sphinx.ext.wordish</em> (should the
repository be on bitbucket),</li>
<li>command line argument: <tt class="docutils literal"><span class="pre">--help</span></tt>, <tt class="docutils literal"><span class="pre">--quiet</span></tt>, <tt class="docutils literal"><span class="pre">--prompt</span></tt>,
<tt class="docutils literal"><span class="pre">--match</span> <span class="pre">'exact|ellipsis|regexp'</span></tt>, <tt class="docutils literal"><span class="pre">--cleanup</span> <span class="pre">mycleanup.sh</span></tt>,
<tt class="docutils literal"><span class="pre">ignore_stderr</span></tt>, <tt class="docutils literal"><span class="pre">bailout_on_abort</span></tt></li>
<li>how to use git branches to ease debian and rpm packaging? (do like
the documentation on github with the gh-pages)</li>
</ul>
</div>
<div class="section" id="interfaces">
<h2>Interfaces<a class="headerlink" href="#interfaces" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>How to declare that a class implements a <em>context manager</em>, an
<em>iterable</em>, that a member attribute is a list of certain class or a
dictionary,</li>
<li>Use epydoc, or Sphinx syntax to specify the signature of methods and
objects,</li>
</ul>
</div>
<div class="section" id="tests">
<h2>Tests<a class="headerlink" href="#tests" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>some impede readability, some are redundant, some use backdoors,
some important one tests may be missing, some doctest would better
be unit test and vice versa,</li>
<li>clear distinction between public (black box) and private api (white
box). Proof test est the public API at least,</li>
<li>some black box testing may be needed to be launched as root and be
run on every file in <em>examples/</em>,</li>
</ul>
</div>
<div class="section" id="objects-and-interfaces">
<h2>objects and interfaces<a class="headerlink" href="#objects-and-interfaces" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><strong>ISessionParser</strong></p>
<ul>
<li><p class="first"><em>Universal</em> linefeed for commands in articles written on Windows,</p>
</li>
<li><p class="first">Like doctest, write hints for wordish to adjust its behavior when
parsing hints in the comment after a command:</p>
<div class="highlight-python"><pre>~$ echo boilerplate      # ignore
wildly unpredictable

~$ echo coucou &gt;&amp;2       # &amp;2
coucou

~$ She is a witch        # returncode: 127
She: command not found

~$ rm -r ./temp_mount_point   # cleanup</pre>
</div>
<p>The returned expected could be an CommandOutput instead of simple
string and carry the attribute <em>ignore</em>, <em>returncode</em>, <em>cleanup</em>
or <em>err</em>.</p>
<p>The idea for the <em>cleanup</em> command is to execute them on
bailout, as they are meant to return the system in predictable
state.</p>
</li>
</ul>
<ul class="simple">
<li>Suppress <em>get_command()</em> and <em>get_output()</em>, make turn <em>takewhile</em>
public,</li>
</ul>
</li>
<li><p class="first"><strong>IReporter</strong></p>
<ul class="simple">
<li>When bailing out, it is not true that all test passed,</li>
<li>Differentiate the error (command aborted) and failure (output
differs) in the report. Do not bailout on expected return value
different from zero,</li>
</ul>
</li>
<li><p class="first"><strong>ICommandRunner</strong></p>
<ul class="simple">
<li>Make it possible to follow the session interactively (via cmds.py,
GNU screen, or via tty). This means being able to read the
tutorial text paragraph, then <em>confirm next command</em>, <em>abort
execution</em>, <em>take control of the shell</em>...</li>
<li>It should be possible to put more than one ellipsis (<tt class="docutils literal"><span class="pre">...</span></tt>) per
line (how does <a title="(in Python v2.6)" class="reference external" href="http://docs.python.org/library/doctest.html#module-doctest"><tt class="xref docutils literal"><span class="pre">doctest</span></tt></a> do anyway?),</li>
</ul>
</li>
<li><p class="first"><strong>IBlockSelector</strong></p>
<ul>
<li><p class="first">Execute not at <em>parsing</em> time but at <em>doctree resolved</em> time, it
allows to build a data structure of <em>articles</em> and <em>cleanup
command</em> instead of communicating via a flat file descriptor.</p>
<p>But it is slower since <em>wordish</em> would be blocked until the end of
parsing and resolution,</p>
</li>
<li><p class="first">Support other format syntax, like markdown,</p>
</li>
<li><p class="first">Support an INodeSelector( doctree_node ) -&gt; boolean, instantiating
a <em>is_shell()</em>, <em>is_article()</em>, <em>is_cleanup()</em>. Making it possible
to gather the snippets in the following data structure:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># essence  = [ n for n in doctree.traverse()</span>
<span class="c">#             if is_article(n) or is_cleanup(n) or is_shell(n) ]</span>
<span class="c"># snippets = [ split(a, is_cleanup ) for a in split( essence, is_article ) ]</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li><a href="index.html">Wordish v1.0.0b8 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2010, Jean Daniel Browne.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
    </div>
  </body>
</html>