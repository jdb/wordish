<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to write an article &mdash; Wordish v1.0.0beta documentation</title>
    <link rel="stylesheet" href="static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '#',
        VERSION:     '1.0.0beta',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="Wordish v1.0.0beta documentation" href="index.html" />
    <link rel="next" title="How to test an article" href="test.html" />
    <link rel="prev" title="Wordish documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="test.html" title="How to test an article"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Wordish documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Wordish v1.0.0beta documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="index.html"
                                  title="previous chapter">Wordish documentation</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="test.html"
                                  title="next chapter">How to test an article</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="sources/write.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="how-to-write-an-article">
<span id="write"></span><h1>How to write an article<a class="headerlink" href="#how-to-write-an-article" title="Permalink to this headline">Â¶</a></h1>
<p>The article should be written in restructured text syntax. This syntax
can be seen as light and readable version of html or latex, and was
designed with the experience of existing Wiki syntaxes. The Sphinx
project has a nice <a class="reference external" href="http://sphinx.pocoo.org/rest.html">introduction</a> on <em>rst</em>, the reference documentation
is <a class="reference external" href="http://docutils.sourceforge.net/rst.html#user-documentation">here</a>.</p>
<p>To display shell code in an article, Sphinx uses the custom directive
<tt class="docutils literal"><span class="pre">sourcecode</span></tt>, that <em>wordish</em> has adopted too. When presented with an
article, it is an easy step to filter out the text which is not marked
with <tt class="docutils literal"><span class="pre">sourcecode</span></tt>, then to differentiate between <em>commands</em> and
<em>outputs</em>, <em>wordish</em> parses for the newline which ends command and for
the prompt which end output</p>
<div class="highlight-python"><pre>A very short article

.. sourcecode:: sh

   ~$ echo "She is a witch!"
   She is a witch!

Really interesting indeed !</pre>
</div>
<p>The first newline in the source code block, is found just after the
quotation mark: it delimites the command which started after the
prompt. The output is the text block found until the next prompt.
There are two possible prompts: <tt class="docutils literal"><span class="pre">~$</span></tt>, and <tt class="docutils literal"><span class="pre">~#</span></tt>. Both are
required to be followed by space.</p>
<p>Note: the newlines which are nested in curly brackets or parentheses are
not interpreted and an <em>end of command</em> character. Shell do the same,
curly brackets are used to define functions and parentheses makes the
nested command to be interpreted in a sub process shell. The two
following examples from the introduction make it clear:</p>
<div class="highlight-python"><pre>.. sourcecode:: sh

   ~$ (
   echo $((1+1)) )
   2

   ~$ sum () {
   echo $(( $1 + $2 ))
   }</pre>
</div>
<p>The first command is <tt class="docutils literal"><span class="pre">echo</span> <span class="pre">$((1+1))</span></tt> in a subproces, and it&#8217;s output
is <tt class="docutils literal"><span class="pre">2</span></tt>. The second command is the definition of a function named
<tt class="docutils literal"><span class="pre">sum</span></tt> and has no output.</p>
<p>When the output can not be completely predicted, such as when
displaying <tt class="docutils literal"><span class="pre">$RANDOM</span></tt> as in the introduction, or displaying the
content of the partitions file in <em>/proc</em>, there is a handy wildcard
pattern which can be used: <tt class="docutils literal"><span class="pre">...</span></tt>. It matches everything like <tt class="docutils literal"><span class="pre">.*</span></tt>
in regexp <a class="footnote-reference" href="#id3" id="id1">[1]</a>.</p>
<p>The state of the shell is kept between each snippets. This means, for
instance, that when declaring a function in a snippet like <tt class="docutils literal"><span class="pre">sum</span></tt>
above, can be used in the subsequent snippets of an article <a class="footnote-reference" href="#id4" id="id2">[2]</a>.</p>
<p>There is another example <a class="reference external" href="http://jdb.github.com/sources/lvm.txt">article</a>, also included in the sources
distribution, and tested before each release. This is the article
which prompted the need for the development of <em>wordish</em>.</p>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Regexp are not directly used so that the various special regexp
characters do not need to be escaped</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>A naive way to execute command is is to use <tt class="xref docutils literal"><span class="pre">system()</span></tt> to
execute a shell command, <em>wordish</em> does not do this and keep a
connection with a shell subprocess for the duration of the
article</td></tr>
</tbody>
</table>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="test.html" title="How to test an article"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Wordish documentation"
             >previous</a> |</li>
        <li><a href="index.html">Wordish v1.0.0beta documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2010, Jean Daniel Browne.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
    </div>
  </body>
</html>